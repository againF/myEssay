# 关于优化开发流程的思考
作者：Alan
时间： 2018年9月16日
## 背景
这次思考的问题主要是前端完成手机端适配后给到设计部时有太多地方要修改，如何减少前端和设计部的工作量
## 明确最终目标
对于自适应的手机端页面，我们的最终目标是前端这边一遍过做的非常完美不用设计部介入就能上线么？这个是理想情况，能达到最好，可是现实情况是即使是有设计稿指导的PC端页面，即使是按照设计稿精确测量的结果，放到浏览器里预览后还是有要修改的情况，所以没有设计稿的手机端页面是不可能期望一遍过的。也就是说设计部介入这步是一定要走的，那么我们的目标就可以定在：尽量减少设计部与前端后期调整页面的工作量。
## 分析工作量来源
页面我们可以简单第看成两部分【1】布局【2】内容。后期要调整的无非就这两部分，那么拆解开，一部分一部分分析。  
### 布局
就手机端的布局来说，因为我们是自适应的网站，也就是说手机端布局其实在PC端设计稿出来的那一刻就已经定了，那么这样其实设计部是没办法提前给出手机端的设计稿的，因为自适应的原因，出了设计稿反而限制了我们的编码，而且设计师也没办法想象自适应后是长什么样的。也就是说手机端的布局得前端做出来后设计师才能看到。
### 内容
在前端完成手机端的布局适配后就陷入了一种尴尬境地，此时需要调整的只剩字体大小和间距，因为此时的字体大小和间距还是和PC上一样的。那么前端这个时候其实是迷茫的，因为不知道字体大小应该放多大，比如PC端的32px的字，放到手机端其实也是可以接受的，但是PC端56px的字在手机端还是56px的话就会觉得大了点，那么怎么办，所有字按比例缩小？也不现实，因为像16px的这种大小是不适合再缩小的，要不然手机端就看不清了。那么前端这边也许会凭感觉将一些太大的字缩小点，但是由于没有一个标准，我们不知道设计师脑海中的合适的大小是怎样，所以到设计师那的时候可能我们刚刚调过的字体大小全得重调，所以我的做法是调整好布局后就把手机端给设计师看了，那么设计师此时其实需要给出的是字体大小以及间距，因为布局理论上是动不了的，因为是自适应不是特别为手机端再做一版。好，分析到这里我们可以发现，工作量的来源是设计师需要给出页面上所有内容的字体大小，间距。
## 解决方案提案
既然是字体大小，那么其实是相对固定的东西。一个网站上用的字体大小其实不会有太多，那我们如果能确定一种规范，将各种级别的标题字体大小确定了，比如，一级标题PC端56px,手机端40px，类似这种，那么前端起码可以做到交给设计部的时候，只剩间距要调整了。
## 可行性分析
分析我们公司的各类网站，虽然风格各有不同，但是仔细看还是有很多共性的，比如banner上一般会有3行字，其中可能有一个一级标题，一个二级标题，一段正文，那么这种共性的东西我们就可以提炼出来形成规范。我们不是说一定要把banner定死3行字，而是我们可以确定各级标题的大小，PC端大小，手机端大小，形成标准后各部门协作起来会更加有效率。
## 其他可以优化的部分
### 动态效果
关于网页的动态效果，现在往往是交给前端自由发挥，那么就会有一个问题，前端加完动态效果，设计师觉得不合适要换一个效果，这样相当于做了无用功，所以需要设计师在一开始就说明需要什么效果，可以使用一个标准库例如https://daneden.github.io/animate.css/，设计师先在这个网站上选好动态效果然后标注在设计稿上，这样避免重复劳动。
### 前期的需求分析
#### 背景
我在工作中遇到这么一种情况，一个首页上的产品中心，显示了5条产品分类，设计稿上没有任何痕迹说明是潜在分页的，或是轮播，怎么看都是固定显示5条，那么我多考虑了一步，这个产品分类如果多于5条是怎么显示，全部列出来还是固定5条，那么询问设计师，得知需要做分页，那么前后端同事一起参与将分页功能实现，后期客户反馈只有5个分类，无需分页，相当于功能白做浪费了前端和后端的时间。
#### 吸取教训
问题的根源在于前期的需求分析不明，那么可能需要前端，后端，设计师一起参与需求分析，因为有些潜在需求是设计师看不出来的，要求前端在拿到设计稿后要认真分析潜在需求，及时和设计师与后端讨论，不应该直接开始编码，经验告诉我们需求清晰的前提下编码其实用不了多少时间，很多时间在于更改需求或是对需求理解不到位推翻重做。
#### 解决方案
设计师需要安排和前端明确需求的时间，这一步不能省，完成这一步是为了节约后期更多的时间
